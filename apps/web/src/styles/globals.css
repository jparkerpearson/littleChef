/* === Fonts === */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Onest:wght@400;500;600;700&display=swap");

/* === Tokens === */
:root {
  --brand-brown: #302127;
  /* rgb(48,33,39) */
  --brand-teal: #4c93af;
  /* rgb(76,147,175) */
  --brand-sky: #afe4f0;
  /* rgb(175,228,240) */
  --brand-orange: #f37d39;
  /* rgb(243,125,57) */
  --brand-gold: #fcb827;
  /* rgb(252,184,39) */
  --brand-cream: #feedc9;
  /* hero bg */
  --gray-100: #f7f7f8;
  --gray-200: #e6e8eb;
  --gray-300: #d8dde3;
  /* rgb(216,221,227) */
  --gray-700: #4a4f57;
  --black: #0b0b0c;
  --white: #fff;

  --radius-lg: 20px;
  --radius-xl: 28px;
  --shadow-sm: 0 6px 14px rgba(0, 0, 0, .06);
  --shadow-md: 0 10px 20px rgba(0, 0, 0, .08);
  --shadow-lg: 0 16px 40px rgba(0, 0, 0, .10);

  --bp-sm: 800px;
  --bp-lg: 1400px;
}

/* === Helpers === */

/* === Base === */
* {
  box-sizing: border-box;
  -webkit-font-smoothing: antialiased;
}

html,
body {
  margin: 0;
  padding: 0;
}

body {
  font-family: "Inter", "Onest", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--black);
  background: var(--white);
  line-height: 1.35;
}

.container {
  width: min(1100px, 92vw);
  margin: 0 auto;
  padding: 0 20px;
}

/* === Typography === */
.h1 {
  font-size: clamp(36px, 1.2vw + 36px, 56px);
  letter-spacing: -0.02em;
  font-weight: 700;
}

.h2 {
  font-size: clamp(28px, 1.2vw + 28px, 40px);
  letter-spacing: -0.01em;
  font-weight: 700;
}

.h3 {
  font-size: clamp(22px, 1.2vw + 22px, 28px);
  font-weight: 600;
}

.lead {
  font-size: 18px;
  color: var(--gray-700);
}

/* Accent headline style (Rodger-like bold feel) */
.display {
  font-family: "Onest", "Inter", sans-serif;
  font-size: clamp(44px, 1.2vw + 44px, 72px);
  font-weight: 700;
}

/* === Layout blocks === */
.hero {
  background: var(--brand-cream);
  padding: clamp(48px, 8vw, 96px) 0;
}

.hero-inner {
  display: grid;
  grid-template-columns: 1.1fr .9fr;
  gap: clamp(24px, 4vw, 48px);
  align-items: center;
}

.hero-card {
  background: var(--white);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  padding: clamp(16px, 3vw, 24px);
}

@media (max-width: 800px) {
  .hero-inner {
    grid-template-columns: 1fr;
  }
}

.section {
  padding: clamp(40px, 7vw, 96px) 0;
}

/* === Surfaces === */
.card {
  background: var(--white);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  padding: 20px;
  border: 1px solid rgba(0, 0, 0, .04);
}

.card--emphasis {
  border: 5px solid var(--brand-gold);
  background: color-mix(in srgb, var(--brand-gold) 20%, var(--white));
}

/* === Buttons === */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: 0;
  cursor: pointer;
  text-decoration: none;
  font-weight: 600;
  border-radius: 100px;
  padding: 14px 20px;
  transition: transform .06s ease, box-shadow .2s ease, background .2s ease;
  will-change: transform;
}

.btn--primary {
  background: var(--brand-gold);
  color: var(--black);
  box-shadow: var(--shadow-sm);
}

.btn--primary:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
}

.btn--primary:active {
  transform: translateY(0);
}

.btn--teal {
  background: rgba(76, 147, 175, .15);
  color: var(--brand-teal);
}

.btn--teal:hover {
  background: rgba(76, 147, 175, .25);
}

.btn--orange {
  background: var(--brand-orange);
  color: var(--white);
}

.btn--orange:hover {
  filter: brightness(1.05);
}

.btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* === Badges / pills === */
.pill {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  height: 36px;
  padding: 0 14px;
  border-radius: 100px;
  background: var(--white);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--gray-200);
  font-weight: 600;
}

.pill--gold {
  background: color-mix(in srgb, var(--brand-gold) 30%, var(--white));
  border-color: transparent;
}

.pill--teal {
  background: rgba(76, 147, 175, .10);
  color: var(--brand-teal);
  border-color: transparent;
}

/* === Navigation === */
.navbar {
  position: sticky;
  top: 0;
  z-index: 50;
  background: var(--white);
  border-bottom: 1px solid rgba(0, 0, 0, .04);
}

.nav-inner {
  width: 100%;
  display: flex;
  align-items: center;
  gap: 20px;
  height: 72px;
  padding: 0 20px;
}

.brand {
  font-weight: 700;
  color: var(--brand-brown);
  letter-spacing: .2px;
  display: flex;
  align-items: center;
  gap: 8px;
  text-decoration: none;
}

.brand-logo {
  width: 32px;
  height: 32px;
  object-fit: contain;
}

.nav-spacer {
  flex: 1;
}

.nav-cta {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: 0;
  cursor: pointer;
  text-decoration: none;
  font-weight: 600;
  border-radius: 100px;
  padding: 10px 16px;
  background: var(--brand-gold);
  color: var(--black);
  box-shadow: var(--shadow-sm);
}

.nav-cta:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
}

/* === Grids (simple) === */
.grid-3 {
  display: grid;
  gap: 20px;
  grid-template-columns: repeat(3, 1fr);
}

@media (max-width: 800px) {
  .grid-3 {
    grid-template-columns: 1fr;
  }
}

/* === Feature blocks that mimic stacked colored tiles === */
.tile {
  border-radius: 8px;
  padding: 16px;
  font-weight: 600;
}

.tile--gold {
  background: var(--brand-gold);
  color: var(--black);
}

.tile--teal {
  background: rgba(76, 147, 175, .30);
}

.tile--orange {
  background: rgba(243, 125, 57, .40);
}

.tile--sky {
  background: var(--brand-sky);
}

.tile--ghost {
  background: rgba(243, 125, 57, .20);
}

/* === Forms (rounded, airy) === */
.input {
  width: 100%;
  height: 48px;
  padding: 0 14px;
  border-radius: 12px;
  border: 1px solid var(--gray-300);
  background: var(--white);
  font-family: inherit;
}

.input:focus {
  outline: 2px solid rgba(76, 147, 175, .35);
  border-color: transparent;
}

.input-group {
  display: flex;
  gap: 10px;
  align-items: center;
  background: var(--white);
  border-radius: 100px;
  box-shadow: var(--shadow-sm);
  padding: 8px 10px;
  border: 1px solid rgba(0, 0, 0, .04);
}

.input-group .input {
  border: 0;
  height: 40px;
  padding: 0 10px;
}

.input-group .btn {
  height: 40px;
  padding: 0 14px;
}

textarea.input {
  height: auto;
  resize: vertical;
  min-height: 40px;
}

/* === Editor Layout === */
.editor-layout {
  height: 100vh;
  display: flex;
  flex-direction: column;
}

.editor-content {
  flex: 1;
  display: grid;
  grid-template-columns: 300px 1fr 300px;
  gap: 20px;
  padding: 20px 20px 20px 20px;
  margin-right: 20px;
  overflow: hidden;
}

.editor-sidebar {
  background: var(--white);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  padding: 20px;
  overflow-y: auto;
}

.editor-main {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.canvas-wrapper {
  flex: 1;
  background: var(--white);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  padding: 20px;
  overflow: hidden;
}

.canvas-container {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

/* === Inspector === */
.inspector {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.inspector-section {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.inspector-section h4 {
  margin: 0;
  font-size: 14px;
  font-weight: 600;
  color: var(--gray-700);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.form-group label {
  font-size: 12px;
  font-weight: 600;
  color: var(--gray-700);
}

.form-group input,
.form-group select,
.form-group textarea {
  padding: 8px 12px;
  border: 1px solid var(--gray-300);
  border-radius: 8px;
  font-size: 14px;
  font-family: inherit;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
  outline: 2px solid rgba(76, 147, 175, .35);
  border-color: transparent;
}

.form-help {
  font-size: 11px;
  color: var(--gray-600);
  font-style: italic;
  margin-top: 4px;
}

.children-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
  max-height: 200px;
  overflow-y: auto;
  border: 1px solid var(--gray-200);
  border-radius: 8px;
  padding: 12px;
  background: var(--gray-50);
}

.child-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px;
  background: var(--white);
  border-radius: 6px;
  border: 1px solid var(--gray-200);
  font-size: 13px;
}

.child-icon {
  font-size: 14px;
  width: 16px;
  text-align: center;
  flex-shrink: 0;
}

.child-label {
  flex: 1;
  font-weight: 500;
  color: var(--brand-brown);
}

.child-dimensions {
  font-size: 11px;
  color: var(--gray-600);
  background: var(--gray-100);
  padding: 2px 6px;
  border-radius: 4px;
  font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
}

.descendant-count {
  font-size: 12px;
  color: var(--brand-teal);
  font-weight: 500;
  background: rgba(76, 147, 175, 0.1);
  padding: 4px 8px;
  border-radius: 4px;
}

/* === Prompt Box === */
.prompt-box {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.prompt-box h3 {
  margin: 0;
  font-size: 18px;
  font-weight: 600;
  color: var(--brand-brown);
}

.prompt-box p {
  margin: 0;
  font-size: 14px;
  color: var(--gray-700);
}

.prompt-input-section {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.prompt-textarea {
  width: 100%;
  padding: 12px 16px;
  border: 1px solid var(--gray-300);
  border-radius: 12px;
  background: var(--white);
  font-family: inherit;
  font-size: 14px;
  line-height: 1.4;
  resize: vertical;
  min-height: 80px;
}

.prompt-textarea:focus {
  outline: 2px solid rgba(76, 147, 175, .35);
  border-color: transparent;
}

.prompt-generate-btn {
  align-self: flex-start;
}

.generating-indicator {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  color: var(--brand-teal);
}

.spinner {
  width: 16px;
  height: 16px;
  border: 2px solid rgba(76, 147, 175, .2);
  border-top: 2px solid var(--brand-teal);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

/* === Error Banner === */
.error-banner {
  background: rgba(243, 125, 57, .1);
  border: 1px solid rgba(243, 125, 57, .3);
  border-radius: 8px;
  padding: 12px 16px;
  color: var(--brand-orange);
  font-size: 14px;
  font-weight: 500;
}

/* === Collaborators === */
.collaborators {
  display: flex;
  align-items: center;
  gap: 12px;
}

/* === Loading Modal === */
.loading-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(8px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.loading-modal-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 24px;
  text-align: center;
  padding: 40px;
  background: var(--white);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-lg);
  border: 1px solid rgba(0, 0, 0, 0.05);
}

.loading-title {
  margin: 0;
  font-size: 24px;
  font-weight: 600;
  color: var(--brand-brown);
}

.loading-subtitle {
  margin: 0;
  font-size: 16px;
  color: var(--gray-700);
}

/* === Loading Animation === */
.loading-animation {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 24px;
}

.chef-hat {
  position: relative;
  width: 60px;
  height: 50px;
  animation: chef-bounce 2s ease-in-out infinite;
}

.hat-top {
  width: 60px;
  height: 30px;
  background: var(--brand-brown);
  border-radius: 30px 30px 0 0;
  position: relative;
}

.hat-top::before {
  content: '';
  position: absolute;
  top: -8px;
  left: 50%;
  transform: translateX(-50%);
  width: 40px;
  height: 8px;
  background: var(--brand-brown);
  border-radius: 4px;
}

.hat-band {
  width: 60px;
  height: 8px;
  background: var(--brand-gold);
  border-radius: 4px;
  position: absolute;
  bottom: 0;
}

.cooking-ingredients {
  display: flex;
  gap: 16px;
  animation: ingredients-float 3s ease-in-out infinite;
}

.ingredient {
  width: 24px;
  height: 24px;
  position: relative;
  animation: ingredient-spin 2s linear infinite;
}

.ingredient--tomato {
  animation-delay: 0s;
}

.ingredient--tomato::before {
  content: '';
  position: absolute;
  top: 2px;
  left: 50%;
  transform: translateX(-50%);
  width: 20px;
  height: 20px;
  background: #e74c3c;
  border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
  box-shadow: inset -2px -2px 4px rgba(0, 0, 0, 0.1);
}

.ingredient--tomato::after {
  content: '';
  position: absolute;
  top: -2px;
  left: 50%;
  transform: translateX(-50%);
  width: 4px;
  height: 6px;
  background: #27ae60;
  border-radius: 2px 2px 0 0;
}

.ingredient--carrot {
  animation-delay: 0.2s;
}

.ingredient--carrot::before {
  content: '';
  position: absolute;
  top: 4px;
  left: 50%;
  transform: translateX(-50%);
  width: 16px;
  height: 16px;
  background: #f39c12;
  border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
  transform: translateX(-50%) rotate(45deg);
}

.ingredient--carrot::after {
  content: '';
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 8px;
  height: 8px;
  background: #27ae60;
  border-radius: 50% 50% 0 0;
  clip-path: polygon(0 100%, 50% 0, 100% 100%);
}

.ingredient--onion {
  animation-delay: 0.4s;
}

.ingredient--onion::before {
  content: '';
  position: absolute;
  top: 2px;
  left: 50%;
  transform: translateX(-50%);
  width: 20px;
  height: 20px;
  background: #ecf0f1;
  border-radius: 50%;
  box-shadow:
    inset 0 0 0 2px #bdc3c7,
    inset 0 0 0 4px #ecf0f1,
    inset 0 0 0 6px #bdc3c7;
}

.ingredient--onion::after {
  content: '';
  position: absolute;
  top: -2px;
  left: 50%;
  transform: translateX(-50%);
  width: 6px;
  height: 6px;
  background: #95a5a6;
  border-radius: 50% 50% 0 0;
}

@keyframes chef-bounce {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-8px);
  }
}

@keyframes ingredients-float {

  0%,
  100% {
    transform: translateY(0) rotate(0deg);
  }

  50% {
    transform: translateY(-12px) rotate(5deg);
  }
}

@keyframes ingredient-spin {
  0% {
    transform: rotate(0deg) scale(1);
  }

  25% {
    transform: rotate(90deg) scale(1.1);
  }

  50% {
    transform: rotate(180deg) scale(1);
  }

  75% {
    transform: rotate(270deg) scale(1.1);
  }

  100% {
    transform: rotate(360deg) scale(1);
  }
}

/* === Utilities === */
.hidden-lg-up {
  @media (min-width: 1400px) {
    display: none !important;
  }
}

.hidden-md-only {
  @media (min-width: 800px) and (max-width: 1399px) {
    display: none !important;
  }
}

.hidden-sm-down {
  @media (max-width: 799px) {
    display: none !important;
  }
}

.mt-0 {
  margin-top: 0
}

.mt-1 {
  margin-top: 8px
}

.mt-2 {
  margin-top: 16px
}

.mt-3 {
  margin-top: 24px
}

.mt-4 {
  margin-top: 32px
}

.mb-0 {
  margin-bottom: 0
}

.mb-1 {
  margin-bottom: 8px
}

.mb-2 {
  margin-bottom: 16px
}

.mb-3 {
  margin-bottom: 24px
}

.mb-4 {
  margin-bottom: 32px
}

.p-3 {
  padding: 24px
}

.rounded-xl {
  border-radius: var(--radius-xl)
}

.shadow-lg {
  box-shadow: var(--shadow-lg)
}

.text-sm {
  font-size: 14px;
}

.text-gray-600 {
  color: var(--gray-700);
}

/* === Toolbar === */
.toolbar {
  background: var(--white);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  padding: 12px 16px;
  margin-bottom: 20px;
}

.toolbar-buttons {
  display: flex;
  flex-direction: row;
  gap: 8px;
  flex-wrap: wrap;
}

.toolbar-button {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 8px 16px;
  border: 1px solid var(--gray-200);
  border-radius: 6px;
  background: var(--white);
  cursor: pointer;
  transition: all 0.2s ease;
  font-family: inherit;
  font-size: 13px;
  font-weight: 500;
  color: var(--gray-700);
  white-space: nowrap;
  min-width: 60px;
}

.toolbar-button:hover {
  background: var(--gray-100);
  border-color: var(--gray-300);
}

.toolbar-button.active {
  background: var(--brand-teal);
  border-color: var(--brand-teal);
  color: var(--white);
}

.toolbar-button.disabled {
  opacity: 0.5;
  cursor: not-allowed;
  background: var(--gray-100);
  border-color: var(--gray-200);
  color: var(--gray-300);
}

.toolbar-button.disabled:hover {
  background: var(--gray-100);
  border-color: var(--gray-200);
}

.toolbar-separator {
  width: 1px;
  background: var(--gray-200);
  margin: 0 8px;
  align-self: stretch;
}

/* === Context Menu === */
.context-menu {
  background: var(--white);
  border-radius: 8px;
  box-shadow: var(--shadow-lg);
  border: 1px solid var(--gray-200);
  overflow: hidden;
}

.context-menu-content {
  display: flex;
  flex-direction: column;
}

.context-menu-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 16px;
  border: none;
  background: var(--white);
  cursor: pointer;
  font-family: inherit;
  font-size: 14px;
  font-weight: 500;
  color: var(--gray-700);
  transition: background-color 0.2s ease;
  text-align: left;
  width: 100%;
}

.context-menu-item:hover {
  background: var(--gray-100);
}

.context-menu-item:active {
  background: var(--gray-200);
}

/* === Node List === */
.node-list {
  background: var(--white);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
  margin-bottom: 20px;
}

.node-list-header {
  cursor: pointer;
  padding: 16px 20px;
  border-bottom: 1px solid var(--gray-200);
  background: var(--gray-100);
  font-weight: 600;
  font-size: 14px;
  color: var(--brand-brown);
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: background-color 0.2s ease;
}

.node-list-header:hover {
  background: var(--gray-200);
}

.node-list-toggle {
  font-size: 12px;
  color: var(--gray-700);
  transition: transform 0.2s ease;
}

.node-list-header.expanded .node-list-toggle {
  transform: rotate(180deg);
}

.node-list-content {
  max-height: 300px;
  overflow-y: auto;
}

.node-list-empty {
  padding: 20px;
  color: var(--gray-700);
  font-size: 14px;
  text-align: center;
  font-style: italic;
}

.node-item {
  padding: 12px 20px;
  cursor: pointer;
  border-bottom: 1px solid var(--gray-200);
  background: var(--white);
  font-size: 14px;
  display: flex;
  align-items: center;
  gap: 12px;
  transition: all 0.2s ease;
  position: relative;
}

.node-item:last-child {
  border-bottom: none;
}

.node-item:hover {
  background: var(--gray-100);
}

.node-item.selected {
  background: rgba(76, 147, 175, 0.1);
  border-left: 3px solid var(--brand-teal);
}

.node-item.selected:hover {
  background: rgba(76, 147, 175, 0.15);
}

.node-icon {
  font-size: 16px;
  width: 20px;
  text-align: center;
  flex-shrink: 0;
}

.node-label {
  flex: 1;
  font-weight: 500;
  color: var(--brand-brown);
}

.node-dimensions {
  font-size: 12px;
  color: var(--gray-700);
  font-weight: 400;
  background: var(--gray-100);
  padding: 2px 8px;
  border-radius: 4px;
  font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
}

.child-count {
  font-size: 11px;
  color: var(--gray-600);
}

.alignment-info {
  font-size: 10px;
  color: var(--brand-teal);
  font-weight: 500;
  text-transform: capitalize;
}

.node-expand-toggle {
  font-size: 12px;
  color: var(--gray-700);
  cursor: pointer;
  width: 16px;
  text-align: center;
  flex-shrink: 0;
  transition: color 0.2s ease;
}

.node-expand-toggle:hover {
  color: var(--brand-teal);
}

.node-expand-spacer {
  width: 16px;
  flex-shrink: 0;
}

.node-item.has-children {
  font-weight: 600;
}

.node-item.has-children .node-icon {
  color: var(--brand-teal);
}

.child-count {
  margin-left: 4px;
  color: var(--brand-teal);
  font-weight: 500;
}

.node-children {
  background: var(--gray-50);
  border-left: 2px solid var(--gray-200);
}

/* === Responsive Design === */
@media (max-width: 1200px) {
  .editor-content {
    grid-template-columns: 250px 1fr 250px;
  }
}

@media (max-width: 900px) {
  .editor-content {
    grid-template-columns: 1fr;
    grid-template-rows: auto 1fr auto;
  }

  .editor-sidebar {
    max-height: 200px;
  }
}

/* Resize handle cursor styles */
.resize-handle-nw {
  cursor: nw-resize !important;
}

.resize-handle-ne {
  cursor: ne-resize !important;
}

.resize-handle-sw {
  cursor: sw-resize !important;
}

.resize-handle-se {
  cursor: se-resize !important;
}

.resize-handle-n {
  cursor: n-resize !important;
}

.resize-handle-s {
  cursor: s-resize !important;
}

.resize-handle-w {
  cursor: w-resize !important;
}

.resize-handle-e {
  cursor: e-resize !important;
}